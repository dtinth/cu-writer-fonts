# cu-writer-fonts

Bitmap font data from [CU Writer](https://th.wikipedia.org/wiki/%E0%B8%8B%E0%B8%B5%E0%B8%A2%E0%B8%B9%E0%B9%84%E0%B8%A3%E0%B9%80%E0%B8%95%E0%B8%AD%E0%B8%A3%E0%B9%8C) converted into PNG image + JSON metadata.

[Read the write-up.](https://notes.dt.in.th/CuWriterFonts)

## Repository contents

- `input/`: Original 39 font files from [CU Writer 1.6 software package](https://software.thaiware.com/download.php?id=1742).
- `src/fon.ts`: Script that converts `.fon`, `.prn`, and `.p24` files into an intermediate JSON format.
- `src/hp.ts`: Script that converts `.fnt` files into an intermediate JSON format.
- `output/`: Contains the intermediate JSON files generated by the scripts.
- `preview.html`: Contains the web application that generates the final files.
- `glyphs.png`: Contains the final PNG image.
- `glyphs.json`: Contains the final JSON metadata.
- `glyphs.d.ts`: Contains the TypeScript type definitions for the JSON metadata.
- `index.html`: Interactive web application to inspect the `glyphs.json` and `glyphs.png` files. [View online](https://dtinth.github.io/cu-writer-fonts/)
- `draw.html`: Example rudimentary code that draws some Thai text. [View online](https://dtinth.github.io/cu-writer-fonts/draw.html)

> [!NOTE]
> The bitmaps from the HP-family fonts are variable-sized, although the glyphs are monospaced.
> The glyph header (in `header` property as a base64-encoded string) contain information on how to correctly render this variable-size bitmap, but it has not yet been fully studied.
> From preliminary observation (assuming `header` is a base64-decoded byte array), `header[7]` contains the x-offset (how many pixels to shift to the right to draw this glyph) and `header[9]` contains the y-baseline (how many pixels to shift up to draw this glyph).
> An example can be found in `draw.html`.

## Glyphs

![Glyphs](glyphs.png)
